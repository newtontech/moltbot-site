<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>Moltbot Site Filter Test</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test { background: #f0f0f0; padding: 10px; margin: 10px 0; }
        .pass { color: green; font-weight: bold; }
        .fail { color: red; font-weight: bold; }
    </style>
</head>
<body>
    <h1>ğŸ§ª è¿‡æ»¤å™¨é€»è¾‘æµ‹è¯•</h1>
    <div id="output"></div>

    <script>
        // Test data (same structure as actual data)
        const testItems = [
            {
                "title": "ğŸš€ OpenClaw å‘å¸ƒ",
                "platform_type": "è‹±æ–‡",
                "tags": ["å‘å¸ƒ", "æ¶æ„"]
            },
            {
                "title": "ğŸ‰ Product Hunt",
                "platform_type": "è‹±æ–‡",
                "tags": ["Product Hunt", "ç¤¾åŒº", "å‘å¸ƒ"]
            },
            {
                "title": "ğŸ’¬ GitHub è®¨è®º",
                "platform_type": "è‹±æ–‡",
                "tags": ["ç¤¾åŒº", "è®¨è®º"]
            }
        ];

        // Filter function from news-renderer.js
        function matchesNewsFilter(item, filter) {
            if (filter === 'all') {
                return true;
            }

            const tags = item.tags || [];

            switch (filter) {
                case 'news':
                    return item.platform_type.includes('è‹±æ–‡') && tags.includes('å‘å¸ƒ');

                case 'showcase':
                    return tags.includes('æ¡ˆä¾‹') || tags.includes('ä½“éªŒ');

                case 'code':
                    return tags.includes('æ•™ç¨‹') || tags.includes('å¼€å‘');

                case 'screenshot':
                    return tags.includes('æˆªå›¾') || tags.includes('ç•Œé¢');

                default:
                    return true;
            }
        }

        // Run tests
        const output = document.getElementById('output');

        function testFilter(filterName, filterValue) {
            output.innerHTML += `<div class="test"><h3>æµ‹è¯•: ${filterName}</h3>`;
            const results = testItems.filter(item => matchesNewsFilter(item, filterValue));
            if (results.length > 0) {
                output.innerHTML += `<span class="pass">âœ… é€šè¿‡ (${results.length} é¡¹)</span>`;
                results.forEach(item => {
                    output.innerHTML += `<div>  - ${item.title}</div>`;
                });
            } else {
                output.innerHTML += `<span class="fail">âŒ å¤±è´¥ (0 é¡¹)</span>`;
            }
            output.innerHTML += `</div>`;
        }

        testFilter('å…¨éƒ¨ (all)', 'all');
        testFilter('æ–°é—» (news)', 'news');
        testFilter('æ¡ˆä¾‹ (showcase)', 'showcase');
        testFilter('ä»£ç  (code)', 'code');
        testFilter('æˆªå›¾ (screenshot)', 'screenshot');
    </script>
</body>
</html>
