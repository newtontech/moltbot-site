<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>éƒ¨ç½²æµ‹è¯•</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test { background: #f0f0f0; padding: 15px; margin: 10px 0; border-radius: 5px; }
        .pass { color: green; font-weight: bold; }
        .fail { color: red; font-weight: bold; }
    </style>
</head>
<body>
    <h1>ğŸ§ª GitHub Pages éƒ¨ç½²æµ‹è¯•</h1>
    <div id="output"></div>

    <script>
        const output = document.getElementById('output');
        const tests = [];

        function log(message) {
            console.log(message);
            output.innerHTML += `<div>${message}</div>`;
        }

        function runTests() {
            log('<h2>1. åŸºç¡€æ£€æŸ¥</h2>');

            // Test 1: HTML loaded
            log('<div class="test">âœ… HTML å·²åŠ è½½</div>');

            // Test 2: JavaScript enabled
            if (typeof window !== 'undefined') {
                log('<div class="test">âœ… JavaScript å·²å¯ç”¨</div>');
            } else {
                log('<div class="test">âŒ JavaScript æœªå¯ç”¨</div>');
            }

            log('<h2>2. æ–‡ä»¶è®¿é—®æµ‹è¯•</h2>');

            // Test 3: Config file
            fetch('/data/config.json')
                .then(r => {
                    if (r.ok) {
                        return r.json();
                    }
                    throw new Error(`HTTP ${r.status}`);
                })
                .then(config => {
                    log(`<div class="test"><span class="pass">âœ… config.json</span></div>`);
                    log(`<div>Categories: ${config.config?.skills?.categories?.length}</div>`);
                })
                .catch(e => {
                    log(`<div class="test"><span class="fail">âŒ config.json: ${e.message}</span></div>`);
                });

            // Test 4: News file
            fetch('/data/news/2026-01.json')
                .then(r => {
                    if (r.ok) {
                        return r.json();
                    }
                    throw new Error(`HTTP ${r.status}`);
                })
                .then(news => {
                    log(`<div class="test"><span class="pass">âœ… news/2026-01.json</span></div>`);
                    log(`<div>Items: ${news.items?.length}</div>`);
                })
                .catch(e => {
                    log(`<div class="test"><span class="fail">âŒ news/2026-01.json: ${e.message}</span></div>`);
                });

            // Test 5: Skills files
            const skillFiles = ['development.json', 'ai-llm.json', 'productivity.json'];
            skillFiles.forEach(file => {
                fetch(`/data/skills/${file}`)
                    .then(r => {
                        if (r.ok) {
                            return r.json();
                        }
                        throw new Error(`HTTP ${r.status}`);
                    })
                    .then(skill => {
                        log(`<div class="test"><span class="pass">âœ… skills/${file}</span> - ${skill.skills?.length} skills</div>`);
                    })
                    .catch(e => {
                        log(`<div class="test"><span class="fail">âŒ skills/${file}: ${e.message}</span></div>`);
                    });
            });

            log('<h2>3. æ•°æ®åŠ è½½å™¨æµ‹è¯•</h2>');

            // Test 6: data-loader.js
            fetch('/js/data-loader.js')
                .then(r => {
                    if (r.ok) {
                        log(`<div class="test"><span class="pass">âœ… data-loader.js</span> - ${r.headers.get('content-length')} bytes</div>`);
                    } else {
                        throw new Error(`HTTP ${r.status}`);
                    }
                })
                .catch(e => {
                    log(`<div class="test"><span class="fail">âŒ data-loader.js: ${e.message}</span></div>`);
                });

            log('<h2>4. æ—¶é—´æˆ³</h2>');
            log(`<div>é¡µé¢åŠ è½½æ—¶é—´: ${new Date().toISOString()}</div>`);
        }

        // Run tests after a short delay
        setTimeout(runTests, 100);
    </script>
</body>
</html>
